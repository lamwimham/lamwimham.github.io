

<!DOCTYPE html>
<html lang="zh-CN" color-mode=light>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>elasticsearch安装 - feelin</title>
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="google" content="notranslate" />
  <meta name="keywords" content="online Learning">
  <meta name="description" content="elasticsearch 安装这里主要是讲docke...">
  <meta name="author" content="啊华">
  <link rel="icon" href="/images/icons/icon-16x16.png" type="image/png" sizes="16x16">
  <link rel="icon" href="/images/icons/icon-32x32.png" type="image/png" sizes="32x32">
  <link rel="apple-touch-icon" href="/images/icons/apple-touch-icon.png" sizes="180x180">
  <meta rel="mask-icon" href="/images/icons/stun-logo.svg" color="#333333">
  
    <meta rel="msapplication-TileImage" content="/images/icons/icon-128x128.png">
    <meta rel="msapplication-TileColor" content="#000000">
  

  
<link rel="stylesheet" href="/css/style.css">


  
    
<link rel="stylesheet" href="//at.alicdn.com/t/font_1445822_s6x2xcokxrl.css">

  

  
    
<link rel="stylesheet" href="https://cdn.bootcdn.net/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.css">

  

  
    
      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/xcode.min.css" name="highlight-style" mode="light">

      
        
        
<link rel="stylesheet" href="https://cdn.bootcss.com/highlight.js/9.18.1/styles/solarized-dark.min.css" name="highlight-style" mode="dark">

      
  

  <script>
    var CONFIG = window.CONFIG || {};
    var ZHAOO = window.ZHAOO || {};
    CONFIG = {
      isHome: false,
      fancybox: true,
      pjax: false,
      lazyload: {
        enable: true,
        only_post: 'false',
        loading: '/images/theme/fly.gif'
      },
      donate: {
        enable: false,
        alipay: '',
        wechat: ''
      },
      galleries: {
        enable: true
      },
      fab: {
        enable: true,
        always_show: false
      },
      carrier: {
        enable: true
      },
      daovoice: {
        enable: false
      },
      preview: {
        background: {
          default: '',
          api: ''
        },
        motto: {
          default: '我在开了灯的床头下，想问问自己的心啊。',
          typing: true,
          api: 'https://v1.hitokoto.cn/?encode=text&c=d',
          data_contents: ''
        },
      },
      qrcode: {
        enable: true,
        type: 'image',
        image: '/images/theme/weiapp.jpeg',
      },
      toc: {
        enable: true
      },
      scrollbar: {
        type: 'default'
      },
      notification: {
        enable: false,
        delay: 4500,
        list: '',
        page_white_list: '',
        page_black_list: ''
      }
    }
  </script>

  

  

<!-- hexo injector head_end start -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.12.0/dist/katex.min.css">
<!-- hexo injector head_end end --><meta name="generator" content="Hexo 5.4.0"></head>

<body class="lock-screen">
  <div class="loading"></div>
  
    


  <nav class="navbar">
    <div class="left">
      
        <i class="iconfont iconhome j-navbar-back-home"></i>
      
      
        <i class="iconfont iconqrcode j-navbar-qrcode"></i>
      
      
        <i class="iconfont iconmoono" id="color-toggle" color-toggle="light"></i>
      
    </div>
    <div class="center">elasticsearch安装</div>
    <div class="right">
      <i class="iconfont iconmenu j-navbar-menu"></i>
    </div>
    
      <div id="qrcode-navbar"></div>
    
  </nav>

  
  

<nav class="menu">
  <div class="menu-wrap">
    <div class="menu-close">
      <i class="iconfont iconbaseline-close-px"></i>
    </div>
    <ul class="menu-content"><li class="menu-item">
        <a href="/ " class="underline "> 首页</a>
      </li><li class="menu-item">
        <a href="/galleries/ " class="underline "> 摄影</a>
      </li><li class="menu-item">
        <a href="/archives/ " class="underline "> 归档</a>
      </li><li class="menu-item">
        <a href="/tags/ " class="underline "> 标签</a>
      </li><li class="menu-item">
        <a href="/categories/ " class="underline "> 分类</a>
      </li><li class="menu-item">
        <a href="/about/ " class="underline "> 关于</a>
      </li></ul>
    
      <div class="menu-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
    
  </div>
</nav>
  <main id="main">
  <div class="article-wrap">
    <div class="row container">
      <div class="col-xl-3"></div>
      <div class="col-xl-6"><article class="article">
  <div class="wrap">
    <section class="head">
  <img   class="lazyload" data-original="/images/theme/picture.jpeg" src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg=="  draggable="false">
  <div class="head-mask">
    <h1 class="head-title">elasticsearch安装</h1>
    <div class="head-info">
      <span class="post-info-item"><i class="iconfont iconcalendar"></i>七月 18, 2021</span>
      
      <span class="post-info-item"><i class="iconfont iconfont-size"></i>4171</span>
    </div>
  </div>
</section>
    <section class="main">
      <section class="content">
        <h1 id="elasticsearch-安装"><a href="#elasticsearch-安装" class="headerlink" title="elasticsearch 安装"></a>elasticsearch 安装</h1><p>这里主要是讲docker方式的安装部署</p>
<h2 id="通过Docker安装Elasticsearch"><a href="#通过Docker安装Elasticsearch" class="headerlink" title="通过Docker安装Elasticsearch"></a>通过Docker安装Elasticsearch</h2><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker network create elastic<br>docker pull docker.elastic.co/elasticsearch/elasticsearch:7.13.3<br>docker run -itd --name es01-test --net elastic -p 9200:9200 -p 9300:9300 -e <span class="hljs-string">&quot;discovery.type=single-node&quot;</span> docker.elastic.co/elasticsearch/elasticsearch:7.13.3<br></code></pre></td></tr></table></figure>
<p>如果希望在主机上管理容器的配置，<br>可新增<code>-v $PWD/conf/:/usr/share/elasticsearch/config/</code>,<br>把主机当前目录下的conf文件夹挂载容器的配置文件夹 </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker run -itd --name es01-test --net elastic -v <span class="hljs-variable">$PWD</span>/conf/:/usr/share/elasticsearch/config/ -p 9200:9200 -p 9300:9300 -e <span class="hljs-string">&quot;discovery.type=single-node&quot;</span> docker.elastic.co/elasticsearch/elasticsearch:7.13.3<br></code></pre></td></tr></table></figure>
<p>如果需要可视化管理，可安装Kibana，和elasticsearch在同一个网络中,同理，如需管理配置，可加卷<code>-v</code></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker pull docker.elastic.co/kibana/kibana:7.13.3<br>docker run -itd --name kib01-test --net elastic -p 5601:5601 -v <span class="hljs-variable">$PWD</span>/conf/:/usr/share/kibana/config/ -e <span class="hljs-string">&quot;ELASTICSEARCH_HOSTS=http://es01-test:9200&quot;</span> docker.elastic.co/kibana/kibana:7.13.3<br></code></pre></td></tr></table></figure>
<p>过一段时间后，可访问<a href="http://localhost:5601。">http://localhost:5601。</a></p>
<h2 id="用docker-compose-启动一个集群"><a href="#用docker-compose-启动一个集群" class="headerlink" title="用docker-compose 启动一个集群"></a>用docker-compose 启动一个集群</h2><ul>
<li>这里是启动一个有三个elasticsearch节点的集群的<code>docker-compose.yml</code></li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">version:</span> <span class="hljs-string">&#x27;2.2&#x27;</span><br><span class="hljs-attr">services:</span><br>  <span class="hljs-attr">es01:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">docker.elastic.co/elasticsearch/elasticsearch:7.13.3</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">es01</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">node.name=es01</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">cluster.name=es-docker-cluster</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">discovery.seed_hosts=es02,es03</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">cluster.initial_master_nodes=es01,es02,es03</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">bootstrap.memory_lock=true</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span><br>    <span class="hljs-attr">ulimits:</span><br>      <span class="hljs-attr">memlock:</span><br>        <span class="hljs-attr">soft:</span> <span class="hljs-number">-1</span><br>        <span class="hljs-attr">hard:</span> <span class="hljs-number">-1</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">data01:/usr/share/elasticsearch/data</span><br>    <span class="hljs-attr">ports:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-number">9200</span><span class="hljs-string">:9200</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">elastic</span><br>  <span class="hljs-attr">es02:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">docker.elastic.co/elasticsearch/elasticsearch:7.13.3</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">es02</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">node.name=es02</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">cluster.name=es-docker-cluster</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">discovery.seed_hosts=es01,es03</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">cluster.initial_master_nodes=es01,es02,es03</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">bootstrap.memory_lock=true</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span><br>    <span class="hljs-attr">ulimits:</span><br>      <span class="hljs-attr">memlock:</span><br>        <span class="hljs-attr">soft:</span> <span class="hljs-number">-1</span><br>        <span class="hljs-attr">hard:</span> <span class="hljs-number">-1</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">data02:/usr/share/elasticsearch/data</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">elastic</span><br>  <span class="hljs-attr">es03:</span><br>    <span class="hljs-attr">image:</span> <span class="hljs-string">docker.elastic.co/elasticsearch/elasticsearch:7.13.3</span><br>    <span class="hljs-attr">container_name:</span> <span class="hljs-string">es03</span><br>    <span class="hljs-attr">environment:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">node.name=es03</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">cluster.name=es-docker-cluster</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">discovery.seed_hosts=es01,es02</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">cluster.initial_master_nodes=es01,es02,es03</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">bootstrap.memory_lock=true</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">&quot;ES_JAVA_OPTS=-Xms512m -Xmx512m&quot;</span><br>    <span class="hljs-attr">ulimits:</span><br>      <span class="hljs-attr">memlock:</span><br>        <span class="hljs-attr">soft:</span> <span class="hljs-number">-1</span><br>        <span class="hljs-attr">hard:</span> <span class="hljs-number">-1</span><br>    <span class="hljs-attr">volumes:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">data03:/usr/share/elasticsearch/data</span><br>    <span class="hljs-attr">networks:</span><br>      <span class="hljs-bullet">-</span> <span class="hljs-string">elastic</span><br><br><span class="hljs-attr">volumes:</span><br>  <span class="hljs-attr">data01:</span><br>    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span><br>  <span class="hljs-attr">data02:</span><br>    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span><br>  <span class="hljs-attr">data03:</span><br>    <span class="hljs-attr">driver:</span> <span class="hljs-string">local</span><br><br><span class="hljs-attr">networks:</span><br>  <span class="hljs-attr">elastic:</span><br>    <span class="hljs-attr">driver:</span> <span class="hljs-string">bridge</span><br></code></pre></td></tr></table></figure>
<blockquote><p>此示例 docker-compose.yml 文件使用 <code>ES_JAVA_OPTS</code> 环境变量手动将堆大小设置为 512MB。Docker Compose 文件启动了一个三节点 Elasticsearch 集群。节点 es01 侦听 <code>localhost:9200</code> 并且 es02 和 es03 通过 Docker 网络与 es01 对话。</p>
</blockquote>
<ul>
<li>通过指令启动容器</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">docker-compose up<br></code></pre></td></tr></table></figure>
<p>到此为止，我们已经启动了一个可运行的elasticsearch服务了。我们的elasticsearch所保存的数据，如果是敏感的，一般不能随意让任何人都能够访问到，我们需要做下安全设置。</p>
<h2 id="安全设置"><a href="#安全设置" class="headerlink" title="安全设置"></a>安全设置</h2><h3 id="首先，我们需要注册一个证书。"><a href="#首先，我们需要注册一个证书。" class="headerlink" title="首先，我们需要注册一个证书。"></a>首先，我们需要注册一个证书。</h3><p>官方给了我们几个等级的证书，示例只需用到基础证书。我们需要在<code>elasticsearch.yml</code>文件中开启。<br><a target="_blank" rel="noopener" href="https://www.elastic.co/guide/en/elasticsearch/reference/7.13/license-settings.html">传送门</a></p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">xpack.license.self_generated.type:</span> <span class="hljs-string">basic</span><br></code></pre></td></tr></table></figure>
<p>如果你想体验更多功能，官方提供了30天免费的试用版证书，类型改为<code>trial</code>。  </p>
<h3 id="启动安全设置"><a href="#启动安全设置" class="headerlink" title="启动安全设置"></a>启动安全设置</h3><p>在注册证书的前提下，系统默认是不开启安全设置，我们需要使用到服务的安全特性时，需要修改配置。这里以官方给的最小安全设置为准，为服务的内建用户分配密码。设置成功后，所有和elasticsearch链接的服务，都需要凭借用户名和密码。</p>
<ul>
<li>首先启动安全设置</li>
</ul>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">xpack.security.enabled:</span> <span class="hljs-literal">true</span><br></code></pre></td></tr></table></figure>
<ul>
<li>指明当前elasticsearch的节点架构</li>
</ul>
<p>我当前是只有一个节点的，所以配置为：</p>
<figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs yaml"><span class="hljs-attr">discovery.type:</span> <span class="hljs-string">single-node</span><br></code></pre></td></tr></table></figure>
<p>此设置可确保您的节点不会无意中连接到可能在您的网络上运行的其他集群。</p>
<ul>
<li>为内建用户创建密码</li>
</ul>
<p>当前比较重要的是<code>elastic</code>、<code>kibana_system</code>两个内建用户</p>
<p>我们确保elasticsearch已经起来了</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./bin/elasticsearch<br></code></pre></td></tr></table></figure>
<p>然后启动密码设置程序，使用 <code>auto</code> 参数将随机生成的密码输出到控制台，您可以稍后根据需要进行更改</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./bin/elasticsearch-setup-passwords auto<br></code></pre></td></tr></table></figure>
<p>如果想直接自己设置密码，将<code>auto</code>改成<code>interactive</code>， 会有引导协助你完成密码的设置。</p>
<p>当我们完成所有密码设置之后，其他服务连上elasticsearch都需要密码了。接下来是kibana的连接设置</p>
<h2 id="Kibana的安全设置"><a href="#Kibana的安全设置" class="headerlink" title="Kibana的安全设置"></a>Kibana的安全设置</h2><ul>
<li>指定elasticsearch的内建用户</li>
</ul>
<p>我们找到kibana的配置文件，添加以下的配置项： </p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">elasticsearch.username: <span class="hljs-string">&quot;kibana_system&quot;</span><br></code></pre></td></tr></table></figure>
<ul>
<li>为该用户创密钥库，并认证该用户</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">elasticsearch.username: <span class="hljs-string">&quot;kibana_system&quot;</span><br></code></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./bin/kibana-keystore add elasticsearch.password<br></code></pre></td></tr></table></figure>
<p>该步骤会让你输入此前你为<code>kibana_system</code>用户录入的密码。</p>
<ul>
<li>重启kibana</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><code class="hljs bash">./bin/kibana<br></code></pre></td></tr></table></figure>
<p>我们重新访问<a href="http://localhost:5601。">http://localhost:5601。</a><br>发现页面变成了登录页，用<code>elastic</code>用户，即可登录。</p>

      </section>
      <section class="extra">
        
          <ul class="copyright">
  
    <li><strong>本文作者：</strong>啊华</li>
    <li><strong>本文链接：</strong><a href="https://lamwimham.github.io/2021/07/18/elasticsearch-installing/index.html" title="https:&#x2F;&#x2F;lamwimham.github.io&#x2F;2021&#x2F;07&#x2F;18&#x2F;elasticsearch-installing&#x2F;index.html">https:&#x2F;&#x2F;lamwimham.github.io&#x2F;2021&#x2F;07&#x2F;18&#x2F;elasticsearch-installing&#x2F;index.html</a></li>
    <li><strong>版权声明：</strong>本博客所有文章均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh" title="BY-NC-SA" target="_blank" rel="noopener">BY-NC-SA</a> 许可协议，转载请注明出处！</li>
  
</ul>
        
        
        
  <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/elasticsearch/" rel="tag">elasticsearch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%95%B0%E6%8D%AE%E5%BA%93/" rel="tag">数据库</a></li></ul> 

        
  <nav class="nav">
    <a></a>
    <a href="/2021/07/18/elasticsearch-configuration/">elasticsearch 配置<i class="iconfont iconright"></i></a>
  </nav>

      </section>
      
    </section>
  </div>
</article></div>
      <div class="col-xl-3">
        
          
  <aside class="toc-wrap">
    <h3 class="toc-title">文章目录：</h3>
    <ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#elasticsearch-%E5%AE%89%E8%A3%85"><span class="toc-text">elasticsearch 安装</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%80%9A%E8%BF%87Docker%E5%AE%89%E8%A3%85Elasticsearch"><span class="toc-text">通过Docker安装Elasticsearch</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%94%A8docker-compose-%E5%90%AF%E5%8A%A8%E4%B8%80%E4%B8%AA%E9%9B%86%E7%BE%A4"><span class="toc-text">用docker-compose 启动一个集群</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE"><span class="toc-text">安全设置</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%A6%96%E5%85%88%EF%BC%8C%E6%88%91%E4%BB%AC%E9%9C%80%E8%A6%81%E6%B3%A8%E5%86%8C%E4%B8%80%E4%B8%AA%E8%AF%81%E4%B9%A6%E3%80%82"><span class="toc-text">首先，我们需要注册一个证书。</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%90%AF%E5%8A%A8%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE"><span class="toc-text">启动安全设置</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Kibana%E7%9A%84%E5%AE%89%E5%85%A8%E8%AE%BE%E7%BD%AE"><span class="toc-text">Kibana的安全设置</span></a></li></ol></li></ol>
  </aside>

        
      </div>
    </div>
  </div>
</main>
  

<footer class="footer">
  <div class="footer-social"><a 
        href="https://github.com/lamwimham "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#9f7be1'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  icongithub-fill "></i>
      </a><a 
        href="mailto:lamwimham@gmail.com "
        target="_blank"
        class="footer-social-item"
        onMouseOver="this.style.color= '#fc7301'" 
        onMouseOut="this.style.color='#33333D'">
          <i class="iconfont  iconmail "></i>
      </a></div>
  
    <div class="footer-copyright"><p>Powered by <a target="_blank" href="https://hexo.io">Hexo</a>  |  Theme - <a target="_blank" href="https://github.com/izhaoo/hexo-theme-zhaoo">zhaoo</a></p></div>
  
</footer>
  
      <div class="fab fab-plus">
    <i class="iconfont iconplus"></i>
  </div>
  
  
  <div class="fab fab-up">
    <i class="iconfont iconcaret-up"></i>
  </div>
  
  
  
    
<script src="/js/color-mode.js"></script>

  
</body>

<script src="https://cdn.bootcss.com/jquery/3.4.1/jquery.min.js"></script>



  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.lazyload/1.9.1/jquery.lazyload.min.js"></script>




  
<script src="https://cdnjs.cloudflare.com/ajax/libs/fancybox/3.5.7/jquery.fancybox.min.js"></script>






  
<script src="https://cdn.bootcdn.net/ajax/libs/jquery.qrcode/1.0/jquery.qrcode.min.js"></script>




<script src="/js/utils.js"></script>
<script src="/js/script.js"></script>







  <script>
    (function () {
      var bp = document.createElement('script');
      var curProtocol = window.location.protocol.split(':')[0];
      if (curProtocol === 'https') {
        bp.src = 'https://zz.bdstatic.com/linksubmit/push.js';
      } else {
        bp.src = 'http://push.zhanzhang.baidu.com/push.js';
      }
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(bp, s);
    })();
  </script>













</html>